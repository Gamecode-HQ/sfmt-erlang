{erl_opts, [warnings_as_errors, debug_info]}.

{port_specs, [
    {"priv/sfmt_nif.so", ["c_src/sfmt_nif.c"]}
]}.

{clean_files, ["c_doc"]}.

% more generic C compiler options also useful on clang
{port_env, [
    % include OS X -arch flag, which is ignored on FreeBSD
    {"CFLAGS", "-O3 -std=c99 -arch x86_64"}
]}.

% Past C optimization flag example
% for gcc on OS X
%{port_env, [
%    % this is local mod: "gcc" or "cc" works on FreeBSD
%    {"CC", "gcc-4.7 -march=nocona"},
%    % this CFLAGS file is for SFMT performance increase
%    {"CFLAGS", "$CFLAGS -O3 -finline-functions -fomit-frame-pointer -fno-strict-aliasing --param max-inline-insns-single=1800 --param inline-unit-growth=500 --param large-function-growth=900 -Wmissing-prototypes -Wall -std=c99"}
%]}.
